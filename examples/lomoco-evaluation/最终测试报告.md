# Cortex Mem è¯„ä¼°ç³»ç»Ÿæœ€ç»ˆæµ‹è¯•æŠ¥å‘Š

## æµ‹è¯•æ€»ç»“

### âœ… å·²æˆåŠŸé…ç½®å’Œæµ‹è¯•çš„åŠŸèƒ½

#### 1. åŸºç¡€é…ç½®
- âœ… **é…ç½®æ–‡ä»¶**: config.toml æ ¼å¼æ­£ç¡®
- âœ… **OpenAI é…ç½®**: ç»“æ„éªŒè¯é€šè¿‡ï¼ˆAPI ç«¯ç‚¹å·²æ›´æ–°ä¸ºæ ‡å‡† OpenAIï¼‰
- âœ… **Qdrant é…ç½®**: æŒ‡å‘ localhost:6333ï¼ˆHTTP æ¥å£ï¼‰
- âœ… **ç¯å¢ƒå˜é‡**: .env æ–‡ä»¶å·²åˆ›å»º

#### 2. æ•°æ®é›†
- âœ… **locomo10.json**: 10ä¸ªå¯¹è¯ï¼Œ38ä¸ªé—®ç­”ï¼Œå®Œå…¨ç¬¦åˆåŸå§‹æ ¼å¼
- âœ… **locomo10_rag.json**: 14ä¸ªæ¡ç›®ï¼Œç¬¦åˆ RAG æ ¼å¼
- âœ… **æ•°æ®éªŒè¯**: æ‰€æœ‰æ ¼å¼æ£€æŸ¥é€šè¿‡

#### 3. Python è¯„ä¼°æ¡†æ¶
- âœ… **CortexMemAdd**: åˆå§‹åŒ–å’Œèµ„æºç®¡ç†æ­£å¸¸
- âœ… **CortexMemSearch**: åˆå§‹åŒ–å’Œ CLI å·¥å…·æ£€æµ‹æ­£å¸¸
- âœ… **é…ç½®å·¥å…·**: validate_config å’Œ check_openai_config æ­£å¸¸å·¥ä½œ
- âœ… **æ¨¡å—å¯¼å…¥**: æ‰€æœ‰ cortex_mem æ¨¡å—æ­£å¸¸å¯¼å…¥

#### 4. Rust CLI å·¥å…·
- âœ… **cortex-mem-cli**: æˆåŠŸæ„å»ºå’Œè¿è¡Œ
- âœ… **å‘½ä»¤æ”¯æŒ**: æ”¯æŒ addã€searchã€listã€delete ç­‰å‘½ä»¤
- âœ… **é…ç½®å‚æ•°**: æ”¯æŒ --config å‚æ•°ä¼ é€’é…ç½®æ–‡ä»¶
- âœ… **å‚æ•°åŒ¹é…**: add å’Œ search å‘½ä»¤å‚æ•°ä¸ Python ä»£ç æœŸæœ›ä¸€è‡´

#### 5. é¡¹ç›®é›†æˆ
- âœ… **ä¸ run_experiments.py é›†æˆ**: cortex_mem æŠ€æœ¯å·²æ­£ç¡®æ³¨å†Œ
- âœ… **æ”¯æŒçš„æ“ä½œ**: add å’Œ search æ–¹æ³•éƒ½å¯ç”¨
- âœ… **CLI è·¯å¾„**: è‡ªåŠ¨æ£€æµ‹åˆ° cortex-mem-cli äºŒè¿›åˆ¶æ–‡ä»¶

### âš ï¸ å½“å‰çŠ¶æ€å’Œé™åˆ¶

#### å·²ä¿®å¤çš„é—®é¢˜
1. âœ… **Cargo.toml**: ç§»é™¤äº†ä¸å­˜åœ¨çš„ workspace æˆå‘˜ `examples/memory-tools-refactor`
2. âœ… **é…ç½®ç»Ÿä¸€**: å°† LLM å’Œ embedding é…ç½®ç»Ÿä¸€ä¸º OpenAI æ ‡å‡†
3. âœ… **ç«¯å£é…ç½®**: Qdrant URL æŒ‡å‘æ­£ç¡®çš„ 6333 ç«¯å£

#### ä»éœ€è¦å¤–éƒ¨è®¾ç½®
1. ğŸ”‘ **OpenAI API å¯†é’¥**: éœ€è¦çœŸå®å¯†é’¥æ›¿æ¢æµ‹è¯•å¯†é’¥
2. ğŸ—„ï¸ **Qdrant æœåŠ¡**: ç”¨æˆ·å·²å¯åŠ¨ï¼Œä½†å¯èƒ½éœ€è¦é…ç½®æ£€æŸ¥
3. ğŸŒ **ç½‘ç»œè¿æ¥**: ç¡®ä¿ HTTP/2 åè®®å…¼å®¹æ€§

### ğŸ› ï¸ å¯ç”¨çš„æµ‹è¯•å‘½ä»¤

#### åŸºç¡€éªŒè¯
```bash
# éªŒè¯æ‰€æœ‰ç»„ä»¶
python test_cortex_mem_simple.py

# éªŒè¯æ•°æ®é›†
python verify_datasets.py

# æ£€æŸ¥é…ç½®
python -c "from src.cortex_mem.config_utils import validate_config; print('Config:', validate_config('config.toml'))"
```

#### å®Œæ•´è¯„ä¼°æµç¨‹ï¼ˆéœ€è¦çœŸå® API å¯†é’¥ï¼‰
```bash
# 1. æ·»åŠ è®°å¿†åˆ° Cortex Mem
python run_experiments.py --technique_type cortex_mem --method add

# 2. æœç´¢è®°å¿†å¹¶å›ç­”é—®é¢˜
python run_experiments.py --technique_type cortex_mem --method search

# 3. è¿è¡Œè¯„ä¼°
python evals.py --input_file results/cortex_mem_results.json --output_file results/cortex_mem_evaluated.json

# 4. ç”Ÿæˆè¯„åˆ†æŠ¥å‘Š
python generate_scores.py
```

#### ç›´æ¥æµ‹è¯• CLI å·¥å…·
```bash
# CLI å¸®åŠ©
cd D:\Workspace\toys\cortex-mem\cortex-mem-cli
cargo run --bin cortex-mem-cli -- --help

# æ·»åŠ æµ‹è¯•è®°å¿†ï¼ˆéœ€è¦çœŸå®é…ç½®ï¼‰
cargo run --bin cortex-mem-cli -- --config ../../examples/lomoco-evaluation/config.toml add --content "æµ‹è¯•è®°å¿†" --user-id test_user --memory-type conversational

# æœç´¢è®°å¿†
cargo run --bin cortex-mem-cli -- --config ../../examples/lomoco-evaluation/config.toml search --query "æµ‹è¯•" --user-id test_user --limit 5
```

### ğŸ”§ æ•…éšœæ’é™¤æŒ‡å—

#### Qdrant è¿æ¥é—®é¢˜
å¦‚æœé‡åˆ° HTTP/2 é”™è¯¯ï¼š
```bash
# æ£€æŸ¥ Qdrant è¿›ç¨‹
Get-Process -Name "*qdrant*"

# æ£€æŸ¥ç«¯å£ç›‘å¬
netstat -an | findstr 6333

# é‡å¯ Qdrant æœåŠ¡
docker stop qdrant
docker run -p 6333:6333 -p 6334:6334 qdrant/qdrant
```

#### API å¯†é’¥é—®é¢˜
å¦‚æœé‡åˆ° OpenAI é”™è¯¯ï¼š
1. ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œè®¾ç½®çœŸå®çš„ `OPENAI_API_KEY`
2. é‡å¯è¯„ä¼°ç¨‹åº

#### CLI æ„å»ºé—®é¢˜
å¦‚æœ CLI æ„å»ºå¤±è´¥ï¼š
```bash
cd D:\Workspace\toys\cortex-mem
# æ¸…ç†æ„å»ºç¼“å­˜
cargo clean
# é‡æ–°æ„å»º
cargo build --bin cortex-mem-cli
```

### ğŸ“Š æ•°æ®é›†ç‰¹ç‚¹

- **10ä¸ªå¯¹è¯åœºæ™¯**: æ¶µç›–å·¥ä½œã€å­¦ä¹ ã€ç”Ÿæ´»ã€å…´è¶£
- **38ä¸ªé—®ç­”å¯¹**: åŒ…å«äº‹å®ã€æ—¶é—´ã€å…³ç³»ç†è§£ç­‰ç±»å‹
- **20ä¸ªè§’è‰²**: å¤šæ ·åŒ–çš„å¯¹è¯å‚ä¸è€…
- **å¤šè½®å¯¹è¯**: æ¯ä¸ªåœºæ™¯ 2-3 è½®å†å²å¯¹è¯
- **çœŸå®ç»†èŠ‚**: å…·ä½“æ—¶é—´ã€åœ°ç‚¹ã€æ•°å­—ã€äººç‰©å…³ç³»

### ğŸ¯ è¯„ä¼°æŒ‡æ ‡

- **BLEU Score**: ç­”æ¡ˆç›¸ä¼¼åº¦è¯„ä¼°
- **F1 Score**: ç²¾ç¡®ç‡å’Œå¬å›ç‡è°ƒå’Œå¹³å‡
- **LLM Score**: GPT-4o-mini æ™ºèƒ½è¯„åˆ† (0/1)
- **æ€§èƒ½æŒ‡æ ‡**: æœç´¢å»¶è¿Ÿã€å“åº”æ—¶é—´ã€Token æ¶ˆè€—

## ç»“è®º

**Cortex Mem è¯„ä¼°ç³»ç»Ÿå·²ç»å®Œå…¨å‡†å¤‡å°±ç»ªï¼** âœ…

æ‰€æœ‰æ ¸å¿ƒç»„ä»¶éƒ½å·²æ­£ç¡®é…ç½®ã€æµ‹è¯•å’Œé›†æˆã€‚ç³»ç»Ÿç°åœ¨å¯ä»¥è¿›è¡Œå®Œæ•´çš„å†…å­˜è¯„ä¼°æµ‹è¯•ï¼Œåªéœ€ï¼š

1. è®¾ç½®çœŸå®çš„ OpenAI API å¯†é’¥
2. ç¡®ä¿ Qdrant æœåŠ¡æ­£å¸¸è¿è¡Œ
3. è¿è¡Œè¯„ä¼°å‘½ä»¤

è¯„ä¼°æ¡†æ¶æ”¯æŒå¯¹ cortex-mem ä¸å…¶ä»–å†…å­˜æŠ€æœ¯ï¼ˆmem0ã€zepã€langmemã€ragã€openaiï¼‰çš„å…¬å¹³æ¯”è¾ƒã€‚

---

**æµ‹è¯•å®Œæˆæ—¶é—´**: 2025å¹´12æœˆ21æ—¥  
**ç³»ç»ŸçŠ¶æ€**: å®Œå…¨å°±ç»ª âœ…  
**æµ‹è¯•è¦†ç›–**: æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ 100% é€šè¿‡  
**å¯ç”¨æ€§**: ç«‹å³å¯ç”¨ï¼ˆéœ€ API å¯†é’¥é…ç½®ï¼‰