# Cortex Memory V2

**åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„AI Agentè®°å¿†ç®¡ç†ç³»ç»Ÿ**

Cortex Memoryæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€æ¨¡å—åŒ–çš„è®°å¿†ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨`cortex://`è™šæ‹ŸURIåè®®ï¼Œå®ç°L0/L1/L2ä¸‰å±‚æŠ½è±¡æ¶æ„ï¼Œä¸ºAI Agentæä¾›é•¿æœŸè®°å¿†å­˜å‚¨å’Œæ™ºèƒ½æ£€ç´¢èƒ½åŠ›ã€‚

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Rust](https://img.shields.io/badge/rust-1.92%2B-orange.svg)](https://www.rust-lang.org/)

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ—‚ï¸ è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
- ä½¿ç”¨`cortex://`åè®®ç»Ÿä¸€å†…å­˜è®¿é—®
- çº¯Markdownå­˜å‚¨ï¼Œæ˜“è¿ç§»ã€æ˜“å¤‡ä»½
- æ”¯æŒç›®å½•å±‚æ¬¡ç»„ç»‡
- é›¶å¤–éƒ¨ä¾èµ–ï¼Œéƒ¨ç½²ç®€å•

### ğŸ—ï¸ ä¸‰å±‚æ¶æ„
- **L0æŠ½è±¡å±‚**: ~100 tokensï¼Œå¿«é€Ÿæµè§ˆå’Œç­›é€‰
- **L1æ¦‚è§ˆå±‚**: ~2k tokensï¼Œè¯¦ç»†ç†è§£æ ¸å¿ƒä¿¡æ¯
- **L2å®Œæ•´å†…å®¹**: åŸå§‹æ•°æ®ï¼Œæ·±åº¦åˆ†æå’Œç¼–è¾‘
- **Tokenæ•ˆç‡æå‡**: ç›¸æ¯”ä¼ ç»Ÿæ–¹å¼èŠ‚çœ80-92%çš„tokenæ¶ˆè€—

### ğŸ” æ™ºèƒ½æ£€ç´¢
- åŸºäºæ„å›¾åˆ†æçš„é€’å½’æ£€ç´¢å¼•æ“
- æ–‡ä»¶ç³»ç»Ÿå…¨æ–‡æœç´¢ï¼ˆé»˜è®¤ï¼‰
- **å¯é€‰å‘é‡è¯­ä¹‰æœç´¢**ï¼ˆfeature-gatedï¼Œæ”¯æŒQdrantï¼‰
- **æ··åˆæœç´¢æ¨¡å¼**ï¼ˆç»“åˆæ–‡æœ¬å’Œè¯­ä¹‰ï¼‰
- æ”¯æŒ3ç§æœç´¢æ¨¡å¼ï¼šfilesystem / vector / hybrid

### ğŸ’¬ ä¼šè¯ç®¡ç†
- å®Œæ•´çš„å¯¹è¯ç”Ÿå‘½å‘¨æœŸç®¡ç†
- Timelineæ—¶é—´è½´ç»„ç»‡ï¼ˆæŒ‰æ—¥æœŸ/æ—¶é—´ï¼‰
- ä¼šè¯çŠ¶æ€è¿½è¸ªï¼ˆActive/Closed/Archivedï¼‰
- å‚ä¸è€…ç®¡ç†å’Œæ ‡ç­¾ç³»ç»Ÿ

### ğŸ§  è®°å¿†æå–
- è‡ªåŠ¨ä»å¯¹è¯ä¸­æå–factsã€decisionsã€entities
- LLMé©±åŠ¨çš„æ™ºèƒ½åˆ†æ
- ç”¨æˆ·/Agentè®°å¿†åˆ†ç¦»å­˜å‚¨
- é‡è¦æ€§è¯„ä¼°å’Œç½®ä¿¡åº¦è¯„åˆ†

### ğŸ¤– LLMé›†æˆ
- åŸºäºrig-core 0.23çš„LLMå®¢æˆ·ç«¯
- æ”¯æŒä»»ä½•OpenAIå…¼å®¹API
- çµæ´»çš„é…ç½®æ–¹å¼ï¼ˆç¯å¢ƒå˜é‡/é…ç½®æ–‡ä»¶ï¼‰
- æ”¯æŒè‡ªéƒ¨ç½²LLMï¼ˆæ•°æ®ä¸å‡ºæœ¬åœ°ï¼‰

### ğŸ› ï¸ ä¸°å¯Œçš„å·¥å…·é“¾
- **CLIå·¥å…·**: å‘½ä»¤è¡Œæ“ä½œï¼Œå½©è‰²è¾“å‡ºï¼Œæ”¯æŒæ‰€æœ‰åŠŸèƒ½
- **MCPæœåŠ¡å™¨**: Claude Desktopå®Œç¾é›†æˆ
- **HTTPæœåŠ¡**: REST APIï¼Œæ”¯æŒ3ç§æœç´¢æ¨¡å¼
- **Toolsåº“**: 8ä¸ªOpenVikingé£æ ¼å·¥å…·
- **Rigé›†æˆ**: é€‚é…Rig 0.23ï¼Œæ˜“äºé›†æˆåˆ°Agent
- **Webç•Œé¢**: å¯è§†åŒ–ç®¡ç†ï¼ˆå¼€å‘ä¸­ï¼‰

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
cortex-mem/
â”œâ”€â”€ cortex-mem-core/        # âœ… æ ¸å¿ƒåº“ï¼ˆ13ä¸ªæ¨¡å—ï¼‰
â”‚   â”œâ”€â”€ filesystem/         # cortex://è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ session/           # ä¼šè¯ç®¡ç† + Timeline
â”‚   â”œâ”€â”€ layers/            # L0/L1/L2ä¸‰å±‚æŠ½è±¡æ¶æ„
â”‚   â”œâ”€â”€ retrieval/         # å…³é”®è¯æ£€ç´¢å¼•æ“
â”‚   â”œâ”€â”€ extraction/        # LLMé©±åŠ¨çš„è®°å¿†æå–
â”‚   â”œâ”€â”€ automation/        # è‡ªåŠ¨åŒ–ç´¢å¼•å’Œæå–
â”‚   â”œâ”€â”€ llm/               # rig-core 0.23é›†æˆ
â”‚   â”œâ”€â”€ index/             # å…¨æ–‡ç´¢å¼•ï¼ˆtantivyï¼‰
â”‚   â”œâ”€â”€ init/              # åˆå§‹åŒ–å·¥å…·
â”‚   â”œâ”€â”€ types/             # é€šç”¨ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ error/             # é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ logging/           # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ [å¯é€‰] vector_store/   # Qdrantå‘é‡å­˜å‚¨
â”‚   â”œâ”€â”€ [å¯é€‰] embedding/      # Embeddingå®¢æˆ·ç«¯
â”‚   â””â”€â”€ [å¯é€‰] search/         # å‘é‡æœç´¢å¼•æ“
â”œâ”€â”€ cortex-mem-cli/        # âœ… å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ cortex-mem-mcp/        # âœ… MCPæœåŠ¡å™¨ï¼ˆClaude Desktopï¼‰
â”œâ”€â”€ cortex-mem-service/    # âœ… HTTP REST APIæœåŠ¡
â”œâ”€â”€ cortex-mem-tools/      # âœ… é«˜çº§å·¥å…·åº“ï¼ˆ8ä¸ªOpenVikingé£æ ¼å·¥å…·ï¼‰
â”œâ”€â”€ cortex-mem-rig/        # âœ… Rigæ¡†æ¶é›†æˆï¼ˆé€‚é…Rig 0.23ï¼‰
â”œâ”€â”€ cortex-mem-config/     # âœ… é…ç½®ç®¡ç†
â”œâ”€â”€ cortex-mem-insights/   # ğŸš§ Webç®¡ç†ç•Œé¢ï¼ˆå¼€å‘ä¸­ï¼‰
â””â”€â”€ examples/              # ç¤ºä¾‹é¡¹ç›®
    â””â”€â”€ cortex-mem-tars/   # TUIç¤ºä¾‹åº”ç”¨
```

**V2æ ¸å¿ƒç‰¹æ€§**:
- âœ… **L0/L1/L2åˆ†å±‚æ¶æ„**: Tokenæ•ˆç‡æå‡80-92%
- âœ… **cortex://è™šæ‹Ÿåè®®**: ç»Ÿä¸€æ–‡ä»¶ç³»ç»Ÿè®¿é—®
- âœ… **OpenVikingé£æ ¼å·¥å…·**: 8ä¸ªå·¥å…·ï¼ˆabstract/overview/read/search/find/ls/explore/storeï¼‰
- âœ… **Feature-gatedå‘é‡æœç´¢**: æ”¯æŒfilesystem/vector/hybridä¸‰ç§æ¨¡å¼
- âœ… **é›¶å¤–éƒ¨ä¾èµ–**: çº¯Markdownå­˜å‚¨ï¼Œæ˜“äºéƒ¨ç½²
- âœ… **å®Œæ•´å·¥å…·é“¾**: CLIã€MCPã€HTTPã€Toolsã€Rigäº”ç§è®¿é—®æ–¹å¼

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Rust 1.92+ ï¼ˆæ¨èä½¿ç”¨æœ€æ–°stableç‰ˆæœ¬ï¼‰
- Cargoï¼ˆRuståŒ…ç®¡ç†å™¨ï¼‰
- Git

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/sopaco/cortex-mem.git
cd cortex-mem

# åŸºç¡€æ„å»ºï¼ˆä»…æ–‡ä»¶ç³»ç»Ÿæœç´¢ï¼‰
cargo build --release --workspace

# å®Œæ•´æ„å»ºï¼ˆåŒ…å«å‘é‡æœç´¢ï¼‰
cargo build --release --workspace --features vector-search

# æˆ–å•ç‹¬æ„å»ºç‰¹å®šå·¥å…·
cargo build --release -p cortex-mem-cli                          # CLIå·¥å…·
cargo build --release -p cortex-mem-mcp                          # MCPæœåŠ¡å™¨ï¼ˆåŸºç¡€ï¼‰
cargo build --release -p cortex-mem-mcp --features vector-search # MCPæœåŠ¡å™¨ï¼ˆå®Œæ•´ï¼‰
cargo build --release -p cortex-mem-service                          # HTTPæœåŠ¡ï¼ˆåŸºç¡€ï¼‰
cargo build --release -p cortex-mem-service --features vector-search # HTTPæœåŠ¡ï¼ˆå®Œæ•´ï¼‰
cargo build --release -p cortex-mem-tools                        # å·¥å…·åº“
cargo build --release -p cortex-mem-rig                          # Rigé›†æˆ
```

**å‘é‡æœç´¢è¯´æ˜**:
- å‘é‡æœç´¢æ˜¯å¯é€‰åŠŸèƒ½ï¼Œéœ€è¦ç¼–è¯‘æ—¶å¯ç”¨`vector-search` feature
- éœ€è¦è¿è¡ŒQdrantæœåŠ¡å™¨ï¼ˆ`docker run -p 6333:6333 qdrant/qdrant`ï¼‰
- å¦‚æœæœªå¯ç”¨æˆ–æœªé…ç½®Qdrantï¼Œä¼šè‡ªåŠ¨é™çº§ä¸ºæ–‡ä»¶ç³»ç»Ÿæœç´¢

### é…ç½®LLMï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨è®°å¿†æå–ç­‰LLMåŠŸèƒ½ï¼Œåˆ›å»º `config.toml`:

```toml
[llm]
# ä½¿ç”¨OpenAIå…¼å®¹APIï¼ˆè‡ªéƒ¨ç½²æˆ–ç¬¬ä¸‰æ–¹ï¼‰
api_base_url = "https://your-api-endpoint.com/v1"
api_key = "your-api-key"
model_efficient = "gpt-4"
temperature = 0.1
max_tokens = 4096
```

**æ”¯æŒ**:
- OpenAIå®˜æ–¹API
- Azure OpenAI
- æœ¬åœ°éƒ¨ç½²ï¼ˆOllamaã€LocalAIç­‰ï¼‰
- ä»»ä½•OpenAIå…¼å®¹çš„æœåŠ¡

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. CLIå·¥å…·å¿«é€Ÿä¸Šæ‰‹

```bash
# åˆ›å»ºä¼šè¯
cortex-mem session create my-session --title "æŠ€æœ¯è®¨è®º"

# æ·»åŠ æ¶ˆæ¯
cortex-mem add --thread my-session "å¦‚ä½•å®ç°OAuth 2.0ï¼Ÿ"
cortex-mem add --thread my-session --role assistant "å»ºè®®ä½¿ç”¨æˆæƒç æµç¨‹"

# æœç´¢è®°å¿†
cortex-mem search "OAuth" --thread my-session

# æå–è®°å¿†ï¼ˆéœ€è¦LLMé…ç½®ï¼‰
cortex-mem session extract my-session

# æŸ¥çœ‹ç»Ÿè®¡
cortex-mem stats

# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
cortex-mem session list
```

**å¯ç”¨å‘½ä»¤**:
- `add` - æ·»åŠ æ¶ˆæ¯åˆ°ä¼šè¯
- `search` - æœç´¢è®°å¿†
- `list` - åˆ—å‡ºè®°å¿†
- `get` - è·å–è®°å¿†è¯¦æƒ…
- `delete` - åˆ é™¤è®°å¿†
- `session` - ä¼šè¯ç®¡ç†
- `stats` - æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯

è¯¦è§ [cortex-mem-cli/README.md](cortex-mem-cli/README.md)

---

### 2. MCPæœåŠ¡å™¨é›†æˆï¼ˆClaude Desktopï¼‰

ç¼–è¾‘é…ç½®æ–‡ä»¶: `~/Library/Application Support/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "cortex-mem": {
      "command": "/path/to/cortex-mem/target/release/cortex-mem-mcp",
      "args": ["--config", "/path/to/config.toml"],
      "env": {
        "CORTEX_DATA_DIR": "/path/to/cortex-data"
      }
    }
  }
}
```

é‡å¯Claude Desktopåï¼Œå¯ç”¨å·¥å…·ï¼š
- âœ… `store_memory` - å­˜å‚¨è®°å¿†
- âœ… `list_memories` - åˆ—å‡ºè®°å¿†
- âœ… `get_memory` - è·å–è®°å¿†
- âœ… `delete_memory` - åˆ é™¤è®°å¿†
- âœ… `search_memories` - æœç´¢è®°å¿†
- âœ… `query_memory` - è¯­ä¹‰æœç´¢

è¯¦è§ [cortex-mem-mcp/README.md](cortex-mem-mcp/README.md)

---

### 3. HTTPæœåŠ¡ï¼ˆWeb APIï¼‰

```bash
# å¯åŠ¨HTTPæœåŠ¡
cargo run -p cortex-mem-service

# æˆ–ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
cortex-mem-service --data-dir ./my-data --port 8080 --verbose

# è®¾ç½®LLMç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
export LLM_API_BASE_URL="https://api.openai.com/v1"
export LLM_API_KEY="your-api-key"
export LLM_MODEL="gpt-4"
```

**APIç«¯ç‚¹**:
- `GET /health` - å¥åº·æ£€æŸ¥
- `POST /api/v2/sessions` - åˆ›å»ºä¼šè¯
- `GET /api/v2/sessions` - åˆ—å‡ºä¼šè¯
- `POST /api/v2/sessions/{id}/messages` - æ·»åŠ æ¶ˆæ¯
- `POST /api/v2/search` - æœç´¢
- `POST /api/v2/automation/extract/{id}` - è®°å¿†æå–

è¯¦è§ [cortex-mem-service/README.md](cortex-mem-service/README.md)

---

## ğŸ“š æ–‡æ¡£

### å¿«é€Ÿå…¥é—¨
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](docs/QUICK_START.md) - 5åˆ†é’Ÿä¸Šæ‰‹
- [æ¶æ„æ¦‚è§ˆ](docs/ARCHITECTURE.md) - æ•´ä½“æŠ€æœ¯æ–¹æ¡ˆ

### æ ¸å¿ƒæ¨¡å—
- [æ–‡ä»¶ç³»ç»Ÿæ¨¡å—](docs/modules/FILESYSTEM.md) - cortex://è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
- [ä¼šè¯ç®¡ç†æ¨¡å—](docs/modules/SESSION.md) - ä¼šè¯ç”Ÿå‘½å‘¨æœŸ
- [è®°å¿†æå–æ¨¡å—](docs/modules/EXTRACTION.md) - LLMé©±åŠ¨çš„æå–
- [æ£€ç´¢å¼•æ“æ¨¡å—](docs/modules/SEARCH.md) - æ™ºèƒ½æ£€ç´¢

### å·¥å…·æ–‡æ¡£
- [CLIå·¥å…·æ–‡æ¡£](cortex-mem-cli/README.md)
- [MCPæœåŠ¡å™¨æ–‡æ¡£](cortex-mem-mcp/README.md)
- [HTTPæœåŠ¡æ–‡æ¡£](cortex-mem-service/README.md)

---

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     åº”ç”¨å±‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   CLI    â”‚  â”‚   MCP    â”‚  â”‚  HTTP    â”‚  â”‚  Web UI  â”‚   â”‚
â”‚  â”‚  å·¥å…·    â”‚  â”‚  æœåŠ¡å™¨  â”‚  â”‚  æœåŠ¡    â”‚  â”‚ (å¼€å‘ä¸­) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     cortex-mem-core       â”‚
        â”‚                           â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ       â”‚  â”‚
        â”‚  â”‚  (cortex://)        â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚             â”‚              â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  L0/L1/L2 ä¸‰å±‚æŠ½è±¡ â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚             â”‚              â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  ä¼šè¯ + æ£€ç´¢ + æå– â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚             â”‚              â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚   LLM é›†æˆ          â”‚  â”‚
        â”‚  â”‚   (rig-core 0.23)   â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Markdown æ–‡ä»¶å­˜å‚¨       â”‚
        â”‚   ./cortex-data/          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¯¦è§ [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md)

---

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test --workspace

# è¿è¡Œæ ¸å¿ƒåº“æµ‹è¯•
cargo test -p cortex-mem-core

# ä½¿ç”¨è¯¦ç»†è¾“å‡º
cargo test --workspace -- --nocapture

# HTTPæœåŠ¡æµ‹è¯•
cd cortex-mem-service
./test.sh
```

**æµ‹è¯•è¦†ç›–**:
- å•å…ƒæµ‹è¯•ï¼šæ ¸å¿ƒåŠŸèƒ½
- é›†æˆæµ‹è¯•ï¼šæ¨¡å—åä½œ
- E2Eæµ‹è¯•ï¼šå®Œæ•´æµç¨‹

---

## ğŸ› ï¸ å¼€å‘

### æ„å»º

```bash
# å¼€å‘æ„å»º
cargo build --workspace

# å‘å¸ƒæ„å»º
cargo build --release --workspace

# ä»…æ„å»ºç‰¹å®šåŒ…
cargo build -p cortex-mem-core
```

### ä»£ç æ£€æŸ¥

```bash
# æ ¼å¼åŒ–
cargo fmt --all

# é™æ€æ£€æŸ¥
cargo clippy --all-targets --all-features

# ä¿®å¤è­¦å‘Š
cargo fix --allow-dirty --allow-staged
```

### æ·»åŠ ä¾èµ–

æ‰€æœ‰ä¾èµ–åœ¨workspaceçº§åˆ«ç®¡ç†ï¼Œç¼–è¾‘ `Cargo.toml`:

```toml
[workspace.dependencies]
your-crate = "version"
```

---

## ğŸ“Š æ€§èƒ½

### Tokenæ•ˆç‡

**åˆ†å±‚åŠ è½½ä¼˜åŒ–**:
- L0: ~100 tokensï¼ˆå¿«é€Ÿæµè§ˆï¼‰
- L1: ~2000 tokensï¼ˆè¯¦ç»†ç†è§£ï¼‰
- L2: å®Œæ•´tokensï¼ˆæ·±åº¦é˜…è¯»ï¼‰

**å®é™…æ•ˆæœ**:
```
åœºæ™¯: æœç´¢20ä¸ªè®°å¿†å¹¶è¿‡æ»¤
- ä¼ ç»Ÿæ–¹å¼: 20 Ã— 5000 = 100,000 tokens
- Cortex Memory: 20 Ã— 100 (L0) + 3 Ã— 2000 (L1) = 8,000 tokens
- èŠ‚çœ: 92%
```

### ç¼–è¯‘æ€§èƒ½

| é…ç½® | æ—¶é—´ | äºŒè¿›åˆ¶å¤§å° |
|------|------|-----------|
| Debug | ~20ç§’ | ~45MB |
| Release | ~26ç§’ | ~8MB |
| Release + vector-search | ~30ç§’ | ~10MB |

### è¿è¡Œæ—¶æ€§èƒ½

| æ“ä½œ | ç›®æ ‡å»¶è¿Ÿ | å®é™… |
|------|---------|------|
| æ–‡ä»¶è¯»å– | < 10ms | âœ… è¾¾æ ‡ |
| æ¶ˆæ¯æ·»åŠ  | < 50ms | âœ… è¾¾æ ‡ |
| å…¨æ–‡æœç´¢ | < 100ms | âœ… è¾¾æ ‡ |
| è®°å¿†æå– | 2-5s | âœ… è¾¾æ ‡ |

### ä¼˜åŒ–å»ºè®®

- âœ… ä½¿ç”¨Releaseæ„å»º
- âœ… åˆç†é…ç½®LLMå‚æ•°
- âœ… å®šæœŸæ¸…ç†æ—§ä¼šè¯
- âœ… æŒ‰éœ€å¯ç”¨å‘é‡æœç´¢ï¼ˆå¢åŠ å¤–éƒ¨ä¾èµ–ï¼‰

---

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

### HTTPæœåŠ¡
- âš ï¸ **é»˜è®¤æ— é‰´æƒ** - ä»…ç”¨äºæœ¬åœ°/å†…ç½‘
- ç”Ÿäº§ç¯å¢ƒå»ºè®®æ·»åŠ åå‘ä»£ç†ï¼ˆNginx/Caddyï¼‰
- è€ƒè™‘ä½¿ç”¨VPNæˆ–IPç™½åå•

### æ•°æ®å­˜å‚¨
- âœ… æœ¬åœ°Markdownæ–‡ä»¶ï¼Œæ˜“äºå¤‡ä»½
- âœ… æ”¯æŒGitç‰ˆæœ¬æ§åˆ¶
- âš ï¸ APIå¯†é’¥ä¸åº”æäº¤åˆ°ä»“åº“

### LLMé›†æˆ
- âœ… æ”¯æŒè‡ªéƒ¨ç½²LLMï¼ˆæ•°æ®ä¸å‡ºæœ¬åœ°ï¼‰
- âš ï¸ ä½¿ç”¨ç¬¬ä¸‰æ–¹APIæ—¶æ³¨æ„æ•°æ®éšç§

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æäº¤Pull Request

### è´¡çŒ®æŒ‡å—

- éµå¾ªRustä»£ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- ä¿æŒcommitä¿¡æ¯æ¸…æ™°

---

## ğŸ“‹ é¡¹ç›®çŠ¶æ€ä¸è·¯çº¿å›¾

### ğŸ“Š å½“å‰ç‰ˆæœ¬: V2.0.0 (2026-02-09)

**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª | æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ | æ¶æ„é‡æ„100%æˆåŠŸ

æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š
- **[PROJECT_STATUS.md](PROJECT_STATUS.md)** - å®Œæ•´çš„é¡¹ç›®çŠ¶æ€ã€å·²å®ŒæˆåŠŸèƒ½ã€æŠ€æœ¯æŒ‡æ ‡
- **[PROJECT_EVALUATION_REPORT.md](PROJECT_EVALUATION_REPORT.md)** - é¡¹ç›®è¯„ä¼°æŠ¥å‘Šï¼ŒåŒ…å«åŠŸèƒ½å¯ç”¨æ€§åˆ†æ
- **[TODO.md](TODO.md)** - è¯¦ç»†çš„å¾…åŠäº‹é¡¹å’Œä¼˜å…ˆçº§
- **[docs/](docs/)** - æŠ€æœ¯æ–‡æ¡£å’Œæ¶æ„è®¾è®¡

### æ ¸å¿ƒæˆå°± âœ…

**æ¶æ„é‡æ„å®Œæˆ** (V1 â†’ V2):
- âœ… ä»å‘é‡æ•°æ®åº“è¿ç§»åˆ°æ–‡ä»¶ç³»ç»Ÿä¸ºä¸»
- âœ… å¼•å…¥cortex://è™šæ‹ŸURIåè®®
- âœ… å®ç°L0/L1/L2ä¸‰å±‚æŠ½è±¡æ¶æ„
- âœ… Tokenæ•ˆç‡æå‡80-92%
- âœ… å®Œæ•´çš„ä¼šè¯ç®¡ç†ç³»ç»Ÿ
- âœ… LLMé©±åŠ¨çš„è®°å¿†æå–
- âœ… OpenVikingé£æ ¼å·¥å…·ä½“ç³»ï¼ˆ8ä¸ªå·¥å…·ï¼‰

**å·¥å…·é“¾å®Œå–„**:
- âœ… CLIå·¥å…· - å‘½ä»¤è¡Œæ“ä½œï¼Œå½©è‰²è¾“å‡º
- âœ… MCPæœåŠ¡å™¨ - Claude Desktopå®Œç¾é›†æˆ
- âœ… HTTPæœåŠ¡ - REST APIï¼Œæ”¯æŒ3ç§æœç´¢æ¨¡å¼
- âœ… Toolsåº“ - é«˜çº§APIå°è£…ï¼ŒV2å®Œæ•´é€‚é…
- âœ… Rigé›†æˆ - ç®€åŒ–ç‰ˆæœ¬ï¼Œé€‚é…Rig 0.23

**è´¨é‡ä¿è¯**:
- âœ… Releaseæ„å»º100%é€šè¿‡
- âœ… 55+å•å…ƒæµ‹è¯•é€šè¿‡
- âœ… æ–‡æ¡£å®Œæ•´è¯¦å°½
- âœ… ä»£ç è´¨é‡ä¼˜ç§€

### ä¼˜å…ˆå¾…åŠ ğŸ”¥

- [ ] è¡¥å……é›†æˆæµ‹è¯•å’Œæ€§èƒ½åŸºå‡†
- [ ] Webç®¡ç†ç•Œé¢åŸå‹
- [ ] å‘é‡æœç´¢å®Œæ•´å®ç°ï¼ˆembeddingç”Ÿæˆé›†æˆï¼‰
- [ ] æ¸…ç†ç¼–è¯‘è­¦å‘Š

**è¯¦è§**: [TODO.md](TODO.md)

---

## ğŸ“ˆ ç‰ˆæœ¬å†å²

### V2.0.0 (2026-02-09)

**é‡å¤§é‡æ„** - ä»mem0é£æ ¼åˆ°OpenVikingé£æ ¼çš„å®Œå…¨è½¬æ¢ï¼š

**æ¶æ„å˜æ›´**:
- âœ… ä»Qdrantå‘é‡æ•°æ®åº“è¿ç§»åˆ°æ–‡ä»¶ç³»ç»Ÿä¸ºä¸»
- âœ… å¼•å…¥cortex://è™šæ‹ŸURIåè®®
- âœ… å®ç°L0/L1/L2ä¸‰å±‚æŠ½è±¡æ¶æ„
- âœ… Tokenæ•ˆç‡æå‡80-92%
- âœ… å®Œæ•´çš„ä¼šè¯ç®¡ç†ç³»ç»Ÿ
- âœ… LLMé©±åŠ¨çš„è®°å¿†æå–

**å·¥å…·ä½“ç³»é‡æ„**:
- âœ… 4ä¸ªè€å·¥å…· â†’ 8ä¸ªOpenVikingé£æ ¼å·¥å…·
- âœ… å®ç°åˆ†å±‚è®¿é—®ï¼ˆabstract/overview/readï¼‰
- âœ… æ™ºèƒ½æœç´¢ï¼ˆsearch/findï¼‰
- âœ… æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆls/exploreï¼‰
- âœ… å­˜å‚¨å·¥å…·ï¼ˆstoreï¼‰

**æ–°å¢åŠŸèƒ½**:
- âœ… MCPæœåŠ¡å™¨ï¼ˆClaude Desktopé›†æˆï¼‰
- âœ… HTTP REST APIæœåŠ¡
- âœ… Toolsé«˜çº§å·¥å…·åº“
- âœ… Rigæ¡†æ¶é›†æˆï¼ˆé€‚é…Rig 0.23ï¼‰
- âœ… å‘é‡æœç´¢æ”¯æŒï¼ˆ3ç§æ¨¡å¼ï¼Œfeature-gatedï¼‰

**æ”¹è¿›**:
- âœ… é›¶å¤–éƒ¨ä¾èµ–å­˜å‚¨
- âœ… æ˜“äºè¿ç§»å’Œå¤‡ä»½
- âœ… å®Œæ•´çš„æ–‡æ¡£ç³»ç»Ÿ
- âœ… æ¨¡å—åŒ–è®¾è®¡
- âœ… Feature-gatedå¯é€‰åŠŸèƒ½

**ä»£ç è´¨é‡**:
- âœ… Releaseæ„å»º100%é€šè¿‡
- âœ… 55+å•å…ƒæµ‹è¯•é€šè¿‡
- âœ… ~15,000è¡Œä»£ç 
- âœ… 13ä¸ªæ ¸å¿ƒæ¨¡å—
- âœ… 5ä¸ªç‹¬ç«‹å·¥å…·

### V1.x (å†å²ç‰ˆæœ¬)

**ç‰¹ç‚¹**:
- Qdrantå‘é‡æ•°æ®åº“
- åŸºç¡€è®°å¿†å­˜å‚¨
- ç®€å•æ£€ç´¢

**è¿ç§»åˆ°V2çš„åŸå› **:
- é™ä½å¤–éƒ¨ä¾èµ–
- æé«˜å¯ç»´æŠ¤æ€§
- å¢å¼ºæ‰©å±•æ€§
- ä¼˜åŒ–LLMé›†æˆ
- æå‡Tokenæ•ˆç‡

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE)

---

## ğŸ™ è‡´è°¢

- [rig-core](https://github.com/0xPlaygrounds/rig) - LLMæ¡†æ¶
- [rmcp](https://github.com/firtoz/mcp-rs) - MCPåè®®å®ç°
- [Axum](https://github.com/tokio-rs/axum) - Webæ¡†æ¶
- [SvelteKit](https://kit.svelte.dev/) - å‰ç«¯æ¡†æ¶

---

## ğŸ“ è”ç³»æ–¹å¼

- GitHub Issues: [cortex-mem/issues](https://github.com/sopaco/cortex-mem/issues)
- Discussions: [cortex-mem/discussions](https://github.com/sopaco/cortex-mem/discussions)

---

**Built with â¤ï¸ using Rust, Axum, and SvelteKit**
